(function(){$.fn.mail_checker=function(b,a){var d,c;if(typeof b==="object"){a=b;b=null}d={token:null,trigger_on:"change",success:function(){},invalid_format:function(){},invalid_domain:function(){},temporary_mail:function(){},error:function(e){return console.error(e)}};c=document.domain.match(/([^.]+)\.[^.]+.?$/);if(c&&c.length>0){c=c[0]}a=$.extend({},d,a);if(!b){b=a.token;if(!b){console.error("Missing token parameter");return}}return $(this).bind(a.trigger_on,function(){var e,f;f=this;e={token:b,domain:c,email:$(this).val()};return $.ajax({url:"http://www.mail-checker.com/check",data:e,dataType:"json",complete:function(g,h){if(g.status===200){a.success.apply(f)}if(g.status===422){a.invalid_format.apply(f)}if(g.status===502){a.invalid_domain.apply(f)}if(g.status===406){a.temporary_mail.apply(f)}if(g.status===400){return a.error.apply(f,[$.parseJSON(g.responseText).error])}}})})}}).call(this);