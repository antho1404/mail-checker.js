$(function(){$.fn.mail_checker=function(b,a){if(typeof b==="object"){a=b;b=null}var c={token:null,trigger_on:"change",success:function(){},invalid_format:function(){},invalid_domain:function(){},temporary_mail:function(){},error:function(d){console.error(d)},complete:function(d){if(d.status===200){a.success()}if(d.status===422){a.invalid_format()}if(d.status===502){a.invalid_domain()}if(d.status===406){a.temporary_mail()}if(d.status===400){a.error($.parseJSON(d.responseText).error)}}};a=$.extend({},c,a);if(!b){b=a.token;if(!b){console.error("Missing token parameter");return}}$(this).bind(a.trigger_on,function(){var d={email:$(this).val(),token:b};$.ajax({url:"/check",data:d,dataType:"json",complete:a.complete})})}});