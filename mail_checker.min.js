$(function(){$.fn.mail_checker=function(b,a){if(typeof b==="object"){a=b;b=null}var d={token:null,trigger_on:"change",success:function(){},invalid_format:function(){},invalid_domain:function(){},temporary_mail:function(){},error:function(e){console.error(e)},complete:function(e){if(e.status===200){a.success()}if(e.status===422){a.invalid_format()}if(e.status===502){a.invalid_domain()}if(e.status===406){a.temporary_mail()}if(e.status===400){a.error($.parseJSON(e.responseText).error)}}},c=document.domain.match(/([^.]+)\.[^.]+.?$/);if(c&&c.length>0){c=c[0]}a=$.extend({},d,a);if(!b){b=a.token;if(!b){console.error("Missing token parameter");return}}$(this).bind(a.trigger_on,function(){var e={token:b,domain:c,email:$(this).val()};$.ajax({url:"http://www.mail-checker.com/check",data:e,dataType:"json",complete:a.complete})})}});